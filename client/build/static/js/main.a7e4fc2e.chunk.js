(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,a){},52:function(e,t,a){e.exports=a(95)},65:function(e,t,a){},89:function(e,t,a){},92:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),l=a(100),o=a(17),s=a(9),u=a(45),i=a(46),m=a(34),d=a(23),b=a.n(d),h=a(47),p=a.n(h),f=a(48),E=(a(63),a(3)),v=a(4),g=a(7),j=a(5),y=a(6),O=a(51),N=a(99),S=a(97),w=a(98),_=a(13),k=a(96),x=a(0),C=a.n(x),T=a(8),A=(a(65),function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(j.a)(t).call(this,e))).toggleNavbar=a.toggleNavbar.bind(Object(_.a)(Object(_.a)(a))),a.state={collapsed:!0},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.g,{color:"faded",light:!0,expand:"sm"},r.a.createElement(T.h,{href:"/",className:"mr-auto"},"CBT"),r.a.createElement(T.i,{onClick:this.toggleNavbar,className:"mr-2"}),r.a.createElement(T.c,{isOpen:!this.state.collapsed,navbar:!0},r.a.createElement(T.d,{className:"ml-auto",navbar:!0},r.a.createElement(T.e,null,r.a.createElement(k.a,{to:"/",className:"nav-link"},"Home")),r.a.createElement(T.e,null,r.a.createElement(k.a,{to:"/login",className:"btn-nav btn btn-outline-success"},"Student")),r.a.createElement(T.e,null,r.a.createElement(k.a,{to:"/admin-login",className:"btn-nav btn btn-outline-success"},"Admin"))))))}}]),t}(n.Component));T.i.propTypes={type:C.a.string,tag:C.a.oneOfType([C.a.func,C.a.string])};var D=A,I=function(){return r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("header",{className:"jumbotron text-center"},r.a.createElement("h1",null,"Welcome to Harmony International School CBT"),r.a.createElement("br",null),r.a.createElement("h4",null,"An online platform where user can practice a Computer Base Test")))},q=a(15),F=a.n(q),M=a(50),L=a.n(M)()(),B="auth_user",z="add_student",W="auth_admin",Q="user_logout",U="auth_error",H="fetch_message",R="http://localhost";function Y(e){return{type:U,payload:e}}function P(){return localStorage.clear(),{type:Q}}var G,Z=function(){return function(e){F.a.get("".concat(R,"/subjects"),{headers:{authorization:localStorage.getItem("token")}}).then(function(t){console.log(t),e({type:"fetch_subjects",payload:t.data.subjects})}).catch(function(e){console.log(e)})}},J=(a(89),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).onLogout=function(){a.props.signoutUser(),L.push("/login")},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.path,a=e.selected,n=e.drawer,c=e.startExam,l=e.name;return r.a.createElement("aside",{id:"drawer",ref:n,className:"dark_blue"},r.a.createElement("header",{className:"sidebar-header"},r.a.createElement("h3",null,r.a.createElement("small",null,l)),r.a.createElement("p",null,"Student Dashboard")),"true"===c?r.a.createElement("ul",{className:"sidebar-list"},a.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(k.a,{to:"".concat(t,"/write-exam/").concat(e.id)},e.name))})):r.a.createElement("ul",{className:"sidebar-list"},r.a.createElement("li",null,r.a.createElement(k.a,{to:"".concat(t)},"Dashboard")),r.a.createElement("li",null,r.a.createElement("button",{onClick:this.onLogout,className:"btn btn-danger"},"Logout"))))}}]),t}(n.Component)),V=Object(s.b)(function(e){return{selected:e.selectedSubjects}},{signoutUser:P})(J),X=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(j.a)(t).call(this))).renderOptions=function(){var e=a.props.subjects,t="_1_"+Math.random().toString(34).substr(2,8);return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{value:"",key:t},"-- select --"),e.map(function(e){var t="_"+Math.random().toString(36).substr(2,9);return r.a.createElement("option",{key:t,value:e.id},e.name)}))},a.handleSelect1=function(e){if(e.target.value===a.state.subject_2&&e.target.value===a.state.subject_3&&e.target.value===a.state.subject_4)return alert("You cannot select the same subject twice");a.setState({subject_1:e.target.value})},a.handleSelect2=function(e){if(e.target.value===a.state.subject_1&&e.target.value===a.state.subject_3&&e.target.value===a.state.subject_4)return alert("You cannot select the same subject twice");a.setState({subject_2:e.target.value})},a.handleSelect3=function(e){if(e.target.value===a.state.subject_1&&e.target.value===a.state.subject_2&&e.target.value===a.state.subject_4)return alert("You cannot select the same subject twice");a.setState({subject_3:e.target.value})},a.handleSelect4=function(e){if(e.target.value===a.state.subject_1&&e.target.value===a.state.subject_2&&e.target.value===a.state.subject_3)return alert("You cannot select the same subject twice");a.setState({subject_4:e.target.value})},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.subject_1,r=t.subject_2,c=t.subject_3,l=t.subject_4,o=[n,r,c,l];if(a.setState({disabled:!0}),""===n||""===r||""===c||""===l)return a.setState({disabled:!0}),alert("All four subjects must be selected");var s=o.toString();a.props.fetch_questions(s);var u=o.map(function(e,t){return a.props.subjects.find(function(t){return t.id===e})});a.props.saveSelectedSubjects(u),a.props.start(),L.push("/student/write-exam/".concat(parseInt(o[0])))},a.state={subject_1:"",subject_2:"",subject_3:"",subject_4:"",disabled:!1},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.props.subjects.length<=0&&this.props.fetch_subjects()}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12 mt-5"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",null,"Wecome to Student Dashboard"),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,"Select subject to start")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"subject1"},"First Subject:"),r.a.createElement("select",{value:this.state.subject_1,onChange:this.handleSelect1,className:"form-control form-control-sm",name:"subject1",id:"subject1"},this.renderOptions())),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"subject2"},"Second Subject"),r.a.createElement("select",{value:this.state.subject_2,onChange:this.handleSelect2,className:"form-control form-control-sm",name:"subject2",id:"subject2"},this.renderOptions())),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"subject3"},"Third Subject"),r.a.createElement("select",{value:this.state.subject_3,onChange:this.handleSelect3,className:"form-control form-control-sm",name:"subject3",id:"subject3"},this.renderOptions())),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"subject4"},"Forth Subject"),r.a.createElement("select",{value:this.state.subject_4,onChange:this.handleSelect4,className:"form-control form-control-sm",name:"subject4",id:"subject4"},this.renderOptions())),r.a.createElement("button",{onClick:this.onSubmit,disabled:this.state.disabled,className:"btn btn-block btn-warning",type:"submit"},"Start Exam"))))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,"Instructions")),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},"You are to select 4 subjects."),r.a.createElement("li",{className:"list-group-item"},"Each subject carries 75 Marks."),r.a.createElement("li",{className:"list-group-item"},"Click on Start exam button to start."),r.a.createElement("li",{className:"list-group-item"},"Once you start, you cannot pause."),r.a.createElement("li",{className:"list-group-item"},"Click on finish exam to submit."),r.a.createElement("li",{className:"list-group-item"},"Exam will automatically submit if time exceed.")))))))}}]),t}(n.Component),$=Object(s.b)(function(e){return{subjects:e.subjects}},{fetch_subjects:Z,fetch_questions:function(e){return console.log("subjects",e),function(t){F.a.get("".concat(R,"/questions/exam"),{headers:{authorization:localStorage.getItem("token"),subjects:e}}).then(function(e){console.log("questions response",e),t({type:"fetch_questions",payload:e.data.questions})}).catch(function(e){console.log(e)})}},saveSelectedSubjects:function(e){return function(t){t({type:"add_selected_subjects",payload:e})}}})(X),K=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(j.a)(t).call(this,e))).timer=function(e){var t=Date.now()+1e3*e;a.displayTimeLeft(e),G=setInterval(function(){var e=Math.round((t-Date.now())/1e3);if(e<0)return clearInterval(G),a.props.stopExam(),void L.push("/student/view-result");localStorage.setItem("remainder",e),a.displayTimeLeft(e)},1e3)},a.displayTimeLeft=function(e){var t=Math.floor(e/60),n=e%60;a.setState({minutes:t,seconds:n})},a.onSubmit=function(){window.confirm("Are you sure you want to sumit your exam")?(console.log("yex"),a.props.stopExam(),clearInterval(G),L.push("/student/view-result")):console.log("no")},a.renderButtons=function(){if("true"===a.props.startExam)return r.a.createElement(T.d,{className:"ml-auto",navbar:!0},r.a.createElement(T.e,null,r.a.createElement("span",{className:"btn-nav btn btn-success"},a.appendZero(a.state.minutes)," : ",a.appendZero(a.state.seconds))),r.a.createElement(T.e,null,r.a.createElement("button",{type:"button",onClick:a.onSubmit,className:"btn-nav btn btn-danger"},"Finish Exam")))},a.toggleNavbar=a.toggleNavbar.bind(Object(_.a)(Object(_.a)(a))),a.state={collapsed:!0,start_exam:!1,minutes:0,seconds:0},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("remainder");e?this.timer(parseInt(e)):this.timer(7200)}},{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"appendZero",value:function(e){return e<10?"0"+e:e}},{key:"render",value:function(){return r.a.createElement("div",{style:{position:"fixed",zIndex:3,width:"80%"}},r.a.createElement(T.g,{color:"secondary",light:!0,expand:"sm"},r.a.createElement(T.h,{className:"mr-auto"},r.a.createElement("span",{id:"menu",onClick:this.props.toggleDrawer},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M2 6h20v3H2zm0 5h20v3H2zm0 5h20v3H2z"})))),this.renderButtons()))}}]),t}(n.Component);T.i.propTypes={type:C.a.string,tag:C.a.oneOfType([C.a.func,C.a.string])};var ee=K,te=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={selected:"",answer:""},a.handleChange=function(e){var t=a.props,n=t.mark,r=t.question,c=r.subject_id,l=r.id,o=r.answer;if(a.setState({selected:e.target.value}),localStorage.setItem("q_".concat(e.target.name),e.target.value),o===e.target.value){console.log("correct");var s={subject_id:c,id:l,answer:"correct",selected:e.target.value,mark:n};console.log(s),a.props.saveOptions(s)}else{console.log("wrong");var u={subject_id:c,id:l,answer:"wrong",selected:e.target.value,mark:0};console.log(u),a.props.saveOptions(u)}},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.question.id,t=localStorage.getItem("q_".concat(e));null!==t&&this.setState({selected:t})}},{key:"render",value:function(){var e=this.state.selected,t=this.props,a=t.index,n=t.question,c=n.question,l=n.a,o=n.b,s=n.c,u=n.d,i=n.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("h5",null,++a," - ",c),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"A",name:i,defaultChecked:"A"===e,onChange:this.handleChange})," A - ",l)),r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"B",name:i,defaultChecked:"B"===e,onChange:this.handleChange})," B - ",o)),r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"C",name:i,defaultChecked:"C"===e,onChange:this.handleChange})," C - ",s)),r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"D",name:i,defaultChecked:"D"===e,onChange:this.handleChange})," D - ",u)),r.a.createElement("hr",null))}}]),t}(n.Component),ae=Object(s.b)(null,{saveOptions:function(e){return function(t){t({type:"save_options",payload:e})}}})(te),ne=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={option:"",questions:null},a.getLastSubject=function(){return a.props.match.params.subjectId},a.getCurrentSubjectQuestions=function(e){var t=a.props.questions;if(t){var n=t[e];a.setState({questions:n})}},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.subjectId;null===this.state.questions&&this.getCurrentSubjectQuestions(e)}},{key:"componentDidMount",value:function(){var e=this.props.match.params.subjectId;null===this.state.questions&&this.getCurrentSubjectQuestions(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.subjectId;this.getCurrentSubjectQuestions(t)}},{key:"render",value:function(){var e=this.state.questions;if(null===e)return r.a.createElement("div",{className:"mt-5 text-center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Loading questions..."));if(e.length<=0)return r.a.createElement("h5",null,"Sorry :) no question found for current subject");var t=75/e.length;return r.a.createElement("div",{className:"col-md-12 mt-5"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,this.state.questions.map(function(e,a){return r.a.createElement(ae,{key:a,mark:t,question:e,index:a})})))}}]),t}(n.Component),re=Object(s.b)(function(e){return{questions:e.questions.all}})(ne),ce=function(e){function t(){return Object(E.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h3",null,"My Exams"),r.a.createElement("table",{className:"table table-stripped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Nesult"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,"7th December 2018"),r.a.createElement("td",null,r.a.createElement("button",{className:"btb btn-success"},"View result")))))))}}]),t}(n.Component),le=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(c)))).renderTable=function(){var e=a.props.scores;return e.length>0?e.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,Math.ceil(e.score)))}):r.a.createElement("div",null,"No score found")},a.renderTotal=function(){var e=a.props.scores;if(e.length>0){var t=e.map(function(e){return e.score}).reduce(function(e,t){return e+t});return Math.ceil(t)}return r.a.createElement("div",null)},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-4 mt-5 mx-auto"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"EXAM RESULT"),r.a.createElement("hr",null),r.a.createElement("h5",null,"Total: ",this.renderTotal()),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-border table-stripped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Subjects"),r.a.createElement("th",null,"Scores"))),r.a.createElement("tbody",null,this.renderTable())))}}]),t}(n.Component),oe=Object(s.b)(function(e){return{scores:e.scores}})(le),se=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(j.a)(t).call(this,e))).toggleDrawer=function(e){e.preventDefault(),a.drawer.current.classList.toggle("open")},a.closeDrawer=function(){a.drawer.current.classList.remove("open")},a.start=function(){localStorage.setItem("startExam","true"),a.setState({startExam:"true"})},a.stop=function(){var e,t,n,r,c=a.props,l=c.answers,o=c.selected,s=c.data.user_id,u=o.map(function(e){return e.id}),i=l.filter(function(e){return e.subject_id===u[0]}),m=l.filter(function(e){return e.subject_id===u[1]}),d=l.filter(function(e){return e.subject_id===u[2]}),b=l.filter(function(e){return e.subject_id===u[3]}),h=[e=i.length<=0?75:i.map(function(e){return e.mark}).reduce(function(e,t){return e+t}),t=m.length<=0?75:m.map(function(e){return e.mark}).reduce(function(e,t){return e+t}),n=d.length<=0?75:d.map(function(e){return e.mark}).reduce(function(e,t){return e+t}),r=b.length<=0?75:b.map(function(e){return e.mark}).reduce(function(e,t){return e+t})],p=h.reduce(function(e,t){return e+t}),f=o.map(function(e,t){return{id:e.id,name:e.name,score:h[t]}}),E={user_id:s,subject1:"".concat(o[0].name,"-").concat(e),subject2:"".concat(o[1].name,"-").concat(t),subject3:"".concat(o[2].name,"-").concat(n),subject4:"".concat(o[3].name,"-").concat(r),total:p};a.props.saveToDB(E),a.props.saveScores(f),localStorage.setItem("startExam","false"),a.setState({startExam:"false"})},a.drawer=r.a.createRef(),a.state={startExam:localStorage.getItem("startExam")},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.data,c=t.selected;return r.a.createElement("div",{className:"wrap"},r.a.createElement(V,{path:a.path,selected:c,name:n.name,startExam:this.state.startExam,drawer:this.drawer}),r.a.createElement("main",{className:"main-page"},r.a.createElement(ee,{startExam:this.state.startExam,stopExam:this.stop,toggleDrawer:this.toggleDrawer}),r.a.createElement("section",{className:"container-fluid"},r.a.createElement(w.a,null,r.a.createElement(N.a,{exact:!0,path:"".concat(a.path),component:function(){return r.a.createElement($,{start:e.start})}}),r.a.createElement(N.a,{exact:!0,path:"".concat(a.path,"/my-exams"),component:ce}),r.a.createElement(N.a,{exact:!0,path:"".concat(a.path,"/write-exam/:subjectId"),component:re}),r.a.createElement(N.a,{exact:!0,path:"".concat(a.path,"/view-result"),component:oe})))))}}]),t}(n.Component),ue=Object(s.b)(function(e){return{data:e.auth.data,selected:e.selectedSubjects,answers:e.exam}},{saveToDB:function(e){return function(t){F.a.post("".concat(R,"/exam/save"),e,{headers:{"Content-Type":"application/json",authorization:localStorage.getItem("token")}}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},saveScores:function(e){return function(t){t({type:"save_scores",payload:e})}}})(se),ie=(a(92),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){a.props.signoutUser(),L.push("/admin-login")},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.path,a=e.data;return r.a.createElement("aside",{id:"drawer",ref:this.props.drawer,className:"dark_blue"},r.a.createElement("header",{className:"sidebar-header"},r.a.createElement("h2",null,a.name),r.a.createElement("p",null,a.role," dashboard")),r.a.createElement("section",null,r.a.createElement("ul",{className:"sidebar-list"},r.a.createElement("li",null,r.a.createElement(k.a,{to:"".concat(t)},"Dashboard")),r.a.createElement("li",null,r.a.createElement(k.a,{to:"".concat(t,"/students")},"Students")),r.a.createElement("li",null,r.a.createElement(k.a,{to:"".concat(t,"/subjects")},"Subjects")),r.a.createElement("li",null,r.a.createElement(k.a,{to:"".concat(t,"/questions")},"Questions")),r.a.createElement("li",null,r.a.createElement("button",{onClick:this.logout,className:"btn btn-danger"},"Logout")))))}}]),t}(n.Component)),me=Object(s.b)(null,{signoutUser:P})(ie),de=function(e){function t(){return Object(E.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12 mt-3"},r.a.createElement("h2",{className:"text-center"},"Wecome to Admin Dashboard"))}}]),t}(n.Component),be=a(2),he=a.n(be),pe=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(c)))).renderTable=function(){var e=a.props.subjects;return e.lenght<=0?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"No subjects found")):e.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning btn-sm"},"Edit")))})},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Subject Name:"),r.a.createElement("th",null,"Edit"))),r.a.createElement("tbody",null,this.renderTable()))}}]),t}(n.Component),fe=Object(s.b)(function(e){return{subjects:e.subjects}})(pe),Ee=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={name:""},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.name};console.log(t),a.props.addSubject(t),a.setState({name:""}),a.props.toggle("1")},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-4 mx-auto mt-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,"Add Subject")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"subject-name"},"Subject Name:"),r.a.createElement("input",{type:"text",id:"subject-name",name:"name",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Enter subject name",className:"form-control"})),r.a.createElement("button",{type:"submit",onClick:this.onSubmit,className:"btn btn-block btn-outline-success"},"Add Subject")))))}}]),t}(n.Component),ve=Object(s.b)(null,{addSubject:function(e){return function(t){F.a.post("".concat(R,"/subjects"),e,{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}).then(function(e){console.log(e),t({type:"Add_subject",payload:e.data})}).catch(function(e){return console.log(e)})}}})(Ee),ge=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(j.a)(t).call(this,e))).toggle=a.toggle.bind(Object(_.a)(Object(_.a)(a))),a.state={activeTab:"1"},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T.d,{tabs:!0},r.a.createElement(T.e,null,r.a.createElement(T.f,{className:he()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},"All Subjects")),r.a.createElement(T.e,null,r.a.createElement(T.f,{className:he()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},"Add Subject"))),r.a.createElement(T.k,{activeTab:this.state.activeTab},r.a.createElement(T.l,{tabId:"1"},r.a.createElement(T.j,null,r.a.createElement(T.b,{sm:"12"},r.a.createElement("br",null),r.a.createElement("h4",null,"List of registered students"),r.a.createElement("br",null),r.a.createElement(fe,null)))),r.a.createElement(T.l,{tabId:"2"},r.a.createElement(T.j,null,r.a.createElement(ve,{toggle:this.toggle})))))}}]),t}(n.Component),je=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(c)))).renderTable=function(){var e=a.props.students;return e.length>0?e.map(function(e){return r.a.createElement("tr",{key:e.user_id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.exam_number))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"No Student found"))},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.props.students.length<=0&&this.props.fetchAllStudents()}},{key:"render",value:function(){return r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Exam Number"))),r.a.createElement("tbody",null,this.renderTable()))}}]),t}(n.Component),ye=Object(s.b)(function(e){return{students:e.students}},{fetchAllStudents:function(){return function(e){F.a.get("".concat(R,"/students"),{headers:{authorization:localStorage.getItem("token")}}).then(function(t){console.log(t),e({type:"fetch_all_student",payload:t.data.students})}).catch(function(e){console.log(e)})}}})(je),Oe=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(j.a)(t).call(this,e))).onDismiss=function(){a.setState({visible:!1})},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.exam_number;(0,a.props.createStudent)({name:n,exam_number:r}),a.setState({name:"",exam_number:"",success:!0}),a.props.toggle("1")},a.state={name:"",exam_number:"",success:!1,visible:!0},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"renderMsg",value:function(){if(this.state.success)return r.a.createElement(T.a,{color:"success",isOpen:this.state.visible,toggle:this.onDismiss},"Student created successfully")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-4 mx-auto mt-5"},this.renderMsg(),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,"Create Student")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"fullname"},"Full Name:"),r.a.createElement("input",{type:"text",name:"name",id:"fullname",placeholder:"Enter fullname",className:"form-control",onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exam_number"},"Exam Number:"),r.a.createElement("input",{type:"text",id:"exam_number",name:"exam_number",placeholder:"Exam number",className:"form-control",onChange:function(t){return e.setState({exam_number:t.target.value})}})),r.a.createElement("input",{type:"submit",onClick:this.onSubmit,value:"Create Student",className:"btn btn-outline-success btn-block"})))))}}]),t}(n.Component),Ne=Object(s.b)(null,{createStudent:function(e){var t=e.name,a=e.exam_number;return function(e){F.a.post("".concat(R,"/auth/signup"),{name:t,exam_number:a},{headers:{"Content-Type":"application/json"}}).then(function(t){console.log("Creating student response",t),e({type:z,payload:t.data})}).catch(function(t){console.log(t),e(Y(t.message))})}}})(Oe),Se=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(j.a)(t).call(this,e))).toggle=a.toggle.bind(Object(_.a)(Object(_.a)(a))),a.state={activeTab:"1"},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T.d,{tabs:!0},r.a.createElement(T.e,null,r.a.createElement(T.f,{className:he()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},"All Students")),r.a.createElement(T.e,null,r.a.createElement(T.f,{className:he()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},"Add Student"))),r.a.createElement(T.k,{activeTab:this.state.activeTab},r.a.createElement(T.l,{tabId:"1"},r.a.createElement(T.j,null,r.a.createElement(T.b,{sm:"12"},r.a.createElement("br",null),r.a.createElement("h4",null,"List of registered students"),r.a.createElement("br",null),r.a.createElement(ye,null)))),r.a.createElement(T.l,{tabId:"2"},r.a.createElement(T.j,null,r.a.createElement(Ne,{toggle:this.toggle})))))}}]),t}(n.Component),we=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(c)))).state={subject_id:"",question:"",answer:"",a:"",b:"",c:"",d:"",photo:null},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={subject_id:t.subject_id,question:t.question,a:t.a,b:t.b,c:t.c,d:t.d,answer:t.answer,photo:t.photo};console.log(n),a.props.addQuestion(n)},a.renderOptions=function(){var e=a.props.subjects;return e.length<=0?r.a.createElement("option",null," -- no subject found --"):e.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("form",{onSubmit:this.onSubmit,encType:"multipart/form-data"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"subject"},"Subject:"),r.a.createElement("select",{value:this.state.subject_id,onChange:function(t){return e.setState({subject_id:t.target.value})},className:"form-control form-control-sm",name:"subject",id:"subject"},r.a.createElement("option",{value:""}," -- select subject -- "),this.renderOptions())),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"question"},"Question:"),r.a.createElement("textarea",{onChange:function(t){return e.setState({question:t.target.value})},name:"question",rows:"3",id:"question",placeholder:"Enter question",className:"form-control form-control-sm"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"a"},"A:"),r.a.createElement("input",{type:"text",name:"a",onChange:function(t){return e.setState({a:t.target.value})},id:"a",placeholder:"Enter first option",className:"form-control form-control-sm"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"b"},"B:"),r.a.createElement("input",{type:"text",name:"b",onChange:function(t){return e.setState({b:t.target.value})},id:"b",placeholder:"Enter second option",className:"form-control form-control-sm"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"c"},"C:"),r.a.createElement("input",{type:"text",name:"c",onChange:function(t){return e.setState({c:t.target.value})},id:"c",placeholder:"Enter third option",className:"form-control form-control-sm"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"d"},"D:"),r.a.createElement("input",{type:"text",name:"d",onChange:function(t){return e.setState({d:t.target.value})},id:"d",placeholder:"Enter forth option",className:"form-control form-control-sm"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"answer"},"Choose Answer:"),r.a.createElement("select",{value:this.state.answer,name:"answer",onChange:function(t){return e.setState({answer:t.target.value})},className:"form-control form-control-sm",id:"answer"},r.a.createElement("option",{value:""},"-- choose answer --"),r.a.createElement("option",{value:"A"},"A"),r.a.createElement("option",{value:"B"},"B"),r.a.createElement("option",{value:"C"},"C"),r.a.createElement("option",{value:"D"},"D"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Photo (optional):"),r.a.createElement("input",{type:"file",id:"photo",onChange:function(t){return e.setState({photo:t.target.files[0]})},name:"photo",className:"form-control form-control-sm"})),r.a.createElement("button",{type:"submit",className:"btn btn-block btn-outline-success"},"Add Subject"))}}]),t}(n.Component),_e=Object(s.b)(function(e){return{subjects:e.subjects}},{addQuestion:function(e){return function(t){F.a.post("".concat(R,"/questions"),e,{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})}}})(we),ke=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={subject_id:null,question:"",answer:"",option2:"",option3:"",option4:""},a.onSubmit=function(e){e.preventDefault()},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-6 mx-auto "},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,"Add Question")),r.a.createElement("div",{className:"card-body"},r.a.createElement(_e,null))))}}]),t}(n.Component),xe=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(j.a)(t).call(this,e))).toggleDrawer=function(e){e.preventDefault(),a.drawer.current.classList.toggle("open")},a.closeDrawer=function(){a.drawer.current.classList.remove("open")},a.drawer=r.a.createRef(),a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.subjects.length<=0&&this.props.fetch_subjects()}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.data;return r.a.createElement("div",{className:"wrap"},r.a.createElement(me,{path:t.path,data:a,drawer:this.drawer}),r.a.createElement("main",{className:"main-page"},r.a.createElement("span",{id:"menu",onClick:this.toggleDrawer},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M2 6h20v3H2zm0 5h20v3H2zm0 5h20v3H2z"}))),r.a.createElement("section",{className:"container-fluid"},r.a.createElement(w.a,null,r.a.createElement(N.a,{exact:!0,path:"".concat(t.path),component:de}),r.a.createElement(N.a,{path:"".concat(t.path,"/students"),component:Se}),r.a.createElement(N.a,{path:"".concat(t.path,"/questions"),component:ke}),r.a.createElement(N.a,{path:"".concat(t.path,"/subjects"),component:ge})))))}}]),t}(n.Component),Ce=Object(s.b)(function(e){return{data:e.auth.data,subjects:e.subjects}},{fetch_subjects:Z})(xe);function Te(){return r.a.createElement("div",null,r.a.createElement("h2",null,"404 Not found"))}a(42);var Ae=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={username:t.username,password:t.password};console.log("You clicked submit",n),a.props.signinAdmin(n)},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("div",{className:"container-fluid "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"text-center"},"ADMIN LOGIN")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement("input",{type:"text",className:"form-control",id:"username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})},name:"username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},name:"password"})),r.a.createElement("button",{className:"btn btn-outline-success btn-block",type:"submit"},"Login"))))))))}}]),t}(n.Component),De=Object(s.b)(null,{signinAdmin:function(e){var t=e.username,a=e.password;return function(e){F.a.post("".concat(R,"/auth/signin/admin"),{username:t,password:a},{headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),e({type:W,payload:t.data}),localStorage.setItem("token",t.data.token),localStorage.setItem("role",t.data.role),L.push("/dashboard")}).catch(function(t){e(Y(t)),console.log(t)})}}})(Ae),Ie=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={exam_number:""},a.onSubmit=function(e){e.preventDefault();var t={exam_number:a.state.exam_number};a.props.signinUser(t)},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("div",{className:"container-fluid "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 mx-auto mt-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-center"},r.a.createElement("h3",null,"STUDENT lOGIN")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exam_number"},"Examinamtion Number:"),r.a.createElement("input",{type:"text",className:"form-control",id:"exam_number",value:this.state.exam_number,onChange:function(t){return e.setState({exam_number:t.target.value})},placeholder:"Enter your exam number",name:"exam_number"})),r.a.createElement("button",{className:"btn btn-block btn-outline-success",type:"submit"},"Login"))))))))}}]),t}(n.Component),qe=Object(s.b)(null,{signinUser:function(e){var t=e.exam_number;return function(e){F.a.post("".concat(R,"/auth/signin"),{exam_number:t},{headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),e({type:B,payload:t.data}),localStorage.setItem("token",t.data.token),localStorage.setItem("role",t.data.role),localStorage.setItem("startExam",!1),L.push("/student")}).catch(function(t){console.log(t),e(Y(t))})}}})(Ie),Fe=function(e){var t=e.component,a=Object(O.a)(e,["component"]);return r.a.createElement(N.a,Object.assign({},a,{render:function(e){return null!==localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(S.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Me=function(e){function t(){return Object(E.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(N.a,{exact:!0,path:"/",component:I}),r.a.createElement(N.a,{exact:!0,path:"/login",component:qe}),r.a.createElement(Fe,{path:"/student",component:ue}),r.a.createElement(N.a,{exact:!0,path:"/admin-login",component:De}),r.a.createElement(Fe,{path:"/dashboard",component:Ce}),r.a.createElement(N.a,{component:Te}))}}]),t}(n.Component),Le=a(18),Be=a(12),ze=Object(o.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:case W:return Object(Le.a)({},e,{error:"",authenticated:!0,data:t.payload});case"unauth_user":return Object(Le.a)({},e,{authenticated:!1});case H:return Object(Le.a)({},e,{message:t.payload});case U:return Object(Le.a)({},e,{error:t.payload});default:return e}},students:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_all_student":return Object(Be.a)(e).concat(Object(Be.a)(t.payload));case z:return Object(Be.a)(e).concat([t.payload]);default:return e}},subjects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_subjects":return Object(Be.a)(e).concat(Object(Be.a)(t.payload));case"Add_subject":return Object(Be.a)(e).concat([t.payload.subject]);default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_questions":return Object(Le.a)({},e,{all:t.payload});default:return e}},selectedSubjects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_selected_subjects":return Object(Be.a)(e).concat(Object(Be.a)(t.payload));default:return e}},exam:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"save_options":return e.length<=0?Object(Be.a)(e).concat([t.payload]):void 0!==e.find(function(e){return e.id===t.payload.id})?e.map(function(e){return e.id!==t.payload.id?e:Object(Le.a)({},e,t.payload)}):Object(Be.a)(e).concat([t.payload]);default:return e}},scores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"save_scores":case"get_scores":return Object(Be.a)(e).concat(Object(Be.a)(t.payload));default:return e}}}),We=function(e,t){return t.type===Q&&(Object.keys(e).forEach(function(e){b.a.removeItem("persist:".concat(e))}),e=void 0),ze(e,t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe={key:"root",storage:b.a,stateReconciler:p.a},Ue=Object(m.a)(Qe,We),He=Object(o.createStore)(Ue,Object(i.composeWithDevTools)(Object(o.applyMiddleware)(u.a))),Re=Object(m.b)(He);Object(c.render)(r.a.createElement(s.a,{store:He},r.a.createElement(f.PersistGate,{loading:!1,persistor:Re},r.a.createElement(l.a,{history:L},r.a.createElement(Me,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[52,2,1]]]);
//# sourceMappingURL=main.a7e4fc2e.chunk.js.map